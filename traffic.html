<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        .traffic-signal {
            width: 100px;
            height: 300px;
            background-color: #333;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        .rounded-circle {
            width: 70px;
            height: 70px;
        }

        /* .button1{
            background-color: red;
        }
        .button2{
            background-color: yellow;
        }
        .button3{
            background-color:green;
        } */
    </style>
</head>

<body>
    <div class="traffic-signal">

        <button id="div1" type="button" class="btn  rounded-circle button1" style="background-color:white;"></button>
        <button id="div2" type="button" class="btn  rounded-circle button2" style="background-color:white;"></button>
        <button id="div3" type="button" class="btn  rounded-circle button3" style="background-color:white;"></button>

    </div>
    <div class="btn-group-vertical">
        <button onclick="start()" style="color: white; background-color: green; margin: 10px; padding: 5px;  padding-left: 20px; padding-right: 20px;">start</button>
        <button onclick="stop()" style="color: white; background-color: red; margin: 10px; padding: 5px; padding-left: 20px; padding-right: 20px;">stop</button>
    </div>

</body>
<script>

    var interval;
    var state = 0; // Keep state global to retain its value across executions

    // Function to execute the traffic light logic
    function updateState() {
        // State 0 > STOP
        // State 1 > READY
        // State default > GO
        switch (state) {
            case 0:
                state = 1;
                $('#div3').css({ 'background-color': 'white' });
                $('#div1').css({ 'background-color': 'red' });
                break;
            case 1:
                state = 3;
                $('#div1').css({ 'background-color': 'white' });
                $('#div2').css({ 'background-color': 'yellow' });
                break;
            default:
                state = 0;
                $('#div2').css({ 'background-color': 'white' });
                $('#div3').css({ 'background-color': 'green' });
        }
    }

    // Function to start the traffic light cycle
    function start() {
        clearInterval(interval); // Clear any existing intervals

        // Execute the logic immediately
        state = 0;
        updateState();

        // Set the interval for subsequent state changes
        interval = setInterval(updateState, 2000);
    }

    // Function to stop the traffic light cycle
    function stop() {
        clearInterval(interval); // Clear the interval to stop state updates
        // Turn off all lights
        $('#div1').css({ 'background-color': 'white' });
        $('#div2').css({ 'background-color': 'white' });
        $('#div3').css({ 'background-color': 'white' });
    }
    $(document).ready(function () {
        stop();
    });

    // // Start the cycle when the page loads
    // $(document).ready(function () {
    //     start();
    // });
</script>

</html>